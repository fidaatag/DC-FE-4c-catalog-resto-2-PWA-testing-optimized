{"version":3,"file":"app~e4317507.bundle.js","mappings":";+JAUA,QANe,CACb,IAAKA,EAAAA,EACL,cAAeC,EAAAA,EACf,YAAaC,EAAAA,mCCqBf,QA5BiB,CACfC,2BAA0B,WACxB,IAAMC,EAAMC,OAAOC,SAASC,KAAKC,MAAM,GAAGC,cACpCC,EAAaC,KAAKC,aAAaR,GACrC,OAAOO,KAAKE,aAAaH,EAC3B,EAEAI,8BAA6B,WAC3B,IAAMV,EAAMC,OAAOC,SAASC,KAAKC,MAAM,GAAGC,cAC1C,OAAOE,KAAKC,aAAaR,EAC3B,EAEAQ,aAAY,SAACR,GACX,IAAMW,EAAaX,EAAIY,MAAM,KAC7B,MAAO,CACLC,SAAUF,EAAW,IAAM,KAC3BG,GAAIH,EAAW,IAAM,KACrBI,KAAMJ,EAAW,IAAM,KAE3B,EAEAF,aAAY,SAACH,GACX,OAAQA,EAAWO,SAAW,IAAH,OAAOP,EAAWO,UAAa,MACrDP,EAAWQ,GAAK,OAAS,KACzBR,EAAWS,KAAO,IAAH,OAAOT,EAAWS,MAAS,GACjD,mSCxBF,+hNA6BA,QA5BiB,eADjB,EACiB,GADjB,EACiB,UAAG,WAAOf,EAAKgB,EAAMC,GAAM,iFAkBrB,OAjBfC,EAAc,CAClBJ,GAAId,EAAIc,GACRE,KAAAA,EACAC,OAAAA,GAGIE,EAAqBC,SAASC,cAAc,cAC5CC,EAAU,CACdC,KAAM,UACNC,MAAO,OACPC,IAAK,WAGDC,GAAO,IAAIC,MAAOC,mBAAmB,QAASN,GAC9CO,EAAY,uDAAH,OAECb,EAAI,mBAAWU,EAAI,yCACpBT,EAAM,uCAIQa,EAAAA,EAAAA,UAAyBZ,GAAY,OAA5Da,EAAiB,EAAH,KACpBC,QAAQC,IAAIF,GAEZZ,EAAmBe,WAAaL,EAAU,2CA1B5C,+KA2BC,gBA1BgB,mVCDjB,8lGAAAM,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,kkBA+CA,QA5CgC,CACxBC,KAAI,YAA8B,oHAElB,OAFVC,EAAkB,EAAlBA,mBAAoBC,EAAK,EAALA,MAC9B,EAAKC,oBAAsBF,EAC3B,EAAKG,OAASF,EAAM,SAEd,EAAKG,gBAAe,0CAJY,EAKxC,EAEMA,cAAa,WAAG,kHACX,OAAF3B,EAAM,EAAK0B,OAAX1B,GAAE,SAEC,EAAK4B,cAAc5B,GAAG,kCAC9B,EAAK6B,gBAAgB,sBAErB,EAAKC,aAAa,0CANA,EAQtB,EAEMF,cAAa,SAAC5B,GAAI,uHACF+B,EAAAA,EAAAA,SAA0B/B,GAAG,OAAtC,OAALwB,EAAQ,EAAH,yBACFA,GAAK,0CAFQ,EAGxB,EAEAM,WAAU,WAAG,WACXrC,KAAKgC,oBAAoBL,WAAYY,EAAAA,EAAAA,MAEnB1B,SAASC,cAAc,cAC/B0B,iBAAiB,QAAO,YAAE,8FAC5BF,EAAAA,EAAAA,SAA0B,EAAKL,QAAO,OAC5C,EAAKC,gBAAgB,2CAEzB,EAEAE,cAAa,WAAG,WACdpC,KAAKgC,oBAAoBL,WAAYc,EAAAA,EAAAA,MAEnB5B,SAASC,cAAc,cAC/B0B,iBAAiB,QAAO,YAAE,8FAC5BF,EAAAA,EAAAA,YAA6B,EAAKL,OAAO1B,IAAG,OAClD,EAAK2B,gBAAgB,2CAEzB,mCC/BF,QAdsB,CACpBL,KAAI,YAAoB,WAAlBa,EAAS,EAATA,UAAWC,EAAI,EAAJA,KACfD,EAAUF,iBAAiB,SAAS,SAACI,GACnC,EAAKC,YAAYD,EAAOD,GACxBC,EAAME,gBACR,GACF,EAEAD,YAAW,SAACD,EAAOD,GACjBC,EAAMG,kBACNJ,EAAKK,UAAUC,OAAO,OACxB,mSCVF,+hNAiBA,QAhBgB,eADhB,EACgB,GADhB,EACgB,UAAG,uFACX,kBAAmBC,UAAS,gBAC2B,OAA3DzB,QAAQC,IAAI,+CAA+C,0BAIP,OAAhDyB,EAAK,IAAIC,EAAAA,GAAsB,kBAAiB,kBAG9CD,EAAGE,WAAU,OACnB5B,QAAQC,IAAI,6BAA6B,kDAEzCD,QAAQC,IAAI,oCAAqC,EAAF,IAAS,yDAb5D,+KAeC,kBAde","sources":["webpack://catalog-resto-3/./src/scripts/routes/routes.js","webpack://catalog-resto-3/./src/scripts/routes/url-parse.js","webpack://catalog-resto-3/./src/scripts/utils/add-review.js","webpack://catalog-resto-3/./src/scripts/utils/favorite-button-initiator.js","webpack://catalog-resto-3/./src/scripts/utils/hamburger-menu.js","webpack://catalog-resto-3/./src/scripts/utils/sw-register.js"],"sourcesContent":["import AllResto from '../views/pages/all-resto';\r\nimport DetailResto from '../views/pages/detail-resto';\r\nimport FavoriterResto from '../views/pages/favorite';\r\n\r\nconst routes = {\r\n  '/': AllResto,\r\n  '/detail/:id': DetailResto,\r\n  '/favorite': FavoriterResto,\r\n};\r\n\r\nexport default routes;\r\n","const UrlParse = {\r\n  parseActiveUrlWithCombiner() {\r\n    const url = window.location.hash.slice(1).toLowerCase();\r\n    const splitedUrl = this._urlSplitter(url);\r\n    return this._urlCombiner(splitedUrl);\r\n  },\r\n\r\n  parseActiveUrlWithOutCombiner() {\r\n    const url = window.location.hash.slice(1).toLowerCase();\r\n    return this._urlSplitter(url);\r\n  },\r\n\r\n  _urlSplitter(url) {\r\n    const urlsSplits = url.split('/');\r\n    return {\r\n      resource: urlsSplits[1] || null,\r\n      id: urlsSplits[2] || null,\r\n      verb: urlsSplits[3] || null,\r\n    };\r\n  },\r\n\r\n  _urlCombiner(splitedUrl) {\r\n    return (splitedUrl.resource ? `/${splitedUrl.resource}` : '/') +\r\n        (splitedUrl.id ? '/:id' : '') +\r\n        (splitedUrl.verb ? `/${splitedUrl.verb}` : '');\r\n  },\r\n};\r\n\r\nexport default UrlParse;\r\n","import TheRestoSource from '../data/theresto-source';\r\n\r\nconst restoReview = async (url, name, review) => {\r\n  const inputReview = {\r\n    id: url.id,\r\n    name,\r\n    review,\r\n  };\r\n\r\n  const allReviewContainer = document.querySelector('.allcoment');\r\n  const options = {\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric',\r\n  };\r\n\r\n  const date = new Date().toLocaleDateString('id-ID', options);\r\n  const newReview = `\r\n        <div class=\"comentitem\">\r\n            <h5>${name} <span>(${date})</span></h5>\r\n            <p>${review}</p>\r\n        </div>\r\n    `;\r\n\r\n  const reviewResponse = await TheRestoSource.addReview(inputReview);\r\n  console.log(reviewResponse);\r\n\r\n  allReviewContainer.innerHTML += newReview;\r\n};\r\n\r\nexport default restoReview;\r\n","import FavoriteRestoIdb from '../data/favorite-resto-idb';\r\nimport {createAddFavoriteButtonTemplate, createRemoveFavoriteButtonTemplate}\r\n  from '../views/template/template-creator';\r\n\r\nconst FavoriteButtonInitiator = {\r\n  async init({FavButtonContainer, resto}) {\r\n    this._FavButtonContainer = FavButtonContainer;\r\n    this._resto = resto;\r\n\r\n    await this._renderButton();\r\n  },\r\n\r\n  async _renderButton() {\r\n    const {id} = this._resto;\r\n\r\n    if (await this._isRestoExist(id)) {\r\n      this._renderRemove();\r\n    } else {\r\n      this._renderAdd();\r\n    }\r\n  },\r\n\r\n  async _isRestoExist(id) {\r\n    const resto = await FavoriteRestoIdb.getResto(id);\r\n    return !!resto;\r\n  },\r\n\r\n  _renderAdd() {\r\n    this._FavButtonContainer.innerHTML = createAddFavoriteButtonTemplate();\r\n\r\n    const favButtob = document.querySelector('.favbutton');\r\n    favButtob.addEventListener('click', async () => {\r\n      await FavoriteRestoIdb.putResto(this._resto);\r\n      this._renderButton();\r\n    });\r\n  },\r\n\r\n  _renderRemove() {\r\n    this._FavButtonContainer.innerHTML = createRemoveFavoriteButtonTemplate();\r\n\r\n    const favButton = document.querySelector('.favbutton');\r\n    favButton.addEventListener('click', async () => {\r\n      await FavoriteRestoIdb.deleteResto(this._resto.id);\r\n      this._renderButton();\r\n    });\r\n  },\r\n};\r\n\r\nexport default FavoriteButtonInitiator;\r\n","const HamburgerMenu = {\r\n  init({BtnBurger, menu}) {\r\n    BtnBurger.addEventListener('click', (event) => {\r\n      this._toggleMenu(event, menu);\r\n      event.preventDefault();\r\n    });\r\n  },\r\n\r\n  _toggleMenu(event, menu) {\r\n    event.stopPropagation();\r\n    menu.classList.toggle('open');\r\n  },\r\n};\r\n\r\nexport default HamburgerMenu;\r\n","import * as WorkboxWindow from 'workbox-window';\r\n\r\nconst swRegister = async () => {\r\n  if (!('serviceWorker' in navigator)) {\r\n    console.log('Service Worker not supported in the browser');\r\n    return;\r\n  }\r\n\r\n  const wb = new WorkboxWindow.Workbox('./sw.bundle.js');\r\n\r\n  try {\r\n    await wb.register();\r\n    console.log('Service worker registered');\r\n  } catch (error) {\r\n    console.log('Failed to resgiter service worker', error);\r\n  }\r\n};\r\n\r\nexport default swRegister;\r\n"],"names":["AllResto","DetailResto","FavoriterResto","parseActiveUrlWithCombiner","url","window","location","hash","slice","toLowerCase","splitedUrl","this","_urlSplitter","_urlCombiner","parseActiveUrlWithOutCombiner","urlsSplits","split","resource","id","verb","name","review","inputReview","allReviewContainer","document","querySelector","options","year","month","day","date","Date","toLocaleDateString","newReview","TheRestoSource","reviewResponse","console","log","innerHTML","i","init","FavButtonContainer","resto","_FavButtonContainer","_resto","_renderButton","_isRestoExist","_renderRemove","_renderAdd","FavoriteRestoIdb","createAddFavoriteButtonTemplate","addEventListener","createRemoveFavoriteButtonTemplate","BtnBurger","menu","event","_toggleMenu","preventDefault","stopPropagation","classList","toggle","navigator","wb","WorkboxWindow","register"],"sourceRoot":""}