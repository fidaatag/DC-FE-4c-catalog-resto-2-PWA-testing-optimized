{"version":3,"file":"app~309f7e27.bundle.js","mappings":"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","sources":["webpack://catalog-resto-3/./src/scripts/views/pages/detail-resto.js","webpack://catalog-resto-3/./src/scripts/views/pages/favorite.js","webpack://catalog-resto-3/./src/scripts/views/template/template-creator.js"],"sourcesContent":["/* eslint-disable max-len */\r\nimport UrlParse from '../../routes/url-parse';\r\nimport TheRestoSource from '../../data/theresto-source';\r\nimport {createDetailRestoTemplate, spinner, badconnection} from '../template/template-creator';\r\nimport FavoriteButtonInitiator from '../../utils/favorite-button-initiator';\r\nimport restoReview from '../../utils/add-review';\r\n\r\nconst DetailResto = {\r\n  async render() {\r\n    return `\r\n          <div class=\"loading\" id=\"loading\"></div>\r\n          <div class=\"detailrestocontainer\"> </div>\r\n        `;\r\n  },\r\n\r\n  async afterRender() {\r\n    const url = UrlParse.parseActiveUrlWithOutCombiner();\r\n    const loading = document.querySelector('#loading');\r\n    const DetailRestoCont = document.querySelector('.detailrestocontainer');\r\n\r\n    // change main display to spinner\r\n    loading.innerHTML = spinner();\r\n    DetailRestoCont.style.visibility = 'hidden';\r\n\r\n    try {\r\n      const resto = await TheRestoSource.detailResto(url.id);\r\n      DetailRestoCont.innerHTML += createDetailRestoTemplate(resto);\r\n\r\n      // add favorite\r\n      FavoriteButtonInitiator.init({\r\n        FavButtonContainer: DetailRestoCont.children[2],\r\n        resto: {\r\n          id: resto.restaurant.id,\r\n          name: resto.restaurant.name,\r\n          city: resto.restaurant.city,\r\n          pictureId: resto.restaurant.pictureId,\r\n          description: resto.restaurant.description,\r\n          rating: resto.restaurant.rating,\r\n        },\r\n      });\r\n\r\n      console.log(resto);\r\n      console.log(resto.restaurant.pictureId);\r\n\r\n      // change spinner display to main\r\n      loading.style.display = 'none';\r\n      DetailRestoCont.style.visibility = 'visible';\r\n\r\n      // add comment\r\n      const addReview = DetailRestoCont.children[3].children[1].children[1];\r\n      const nameInput = addReview.children[1].children[0];\r\n      const reviewInput = addReview.children[1].children[1];\r\n      const btnSubmitInput = addReview.children[1].children[2];\r\n\r\n      console.log(DetailRestoCont.children[3].children[1].children[1]);\r\n      console.log(addReview.children[1].children[0]);\r\n\r\n      btnSubmitInput.addEventListener('click', async (e) => {\r\n        e.preventDefault();\r\n\r\n        await restoReview(url, nameInput.value, reviewInput.value);\r\n\r\n        nameInput.value = '';\r\n        reviewInput.value ='';\r\n      });\r\n\r\n    } catch (error) {\r\n      loading.style.display = 'none';\r\n      DetailRestoCont.style.visibility = 'visible';\r\n      DetailRestoCont.style.display = 'block';\r\n      DetailRestoCont.innerHTML = badconnection();\r\n    }\r\n  },\r\n};\r\n\r\nexport default DetailResto;\r\n","import FavoriteRestoIdb from '../../data/favorite-resto-idb';\r\nimport {createItemRestoTemplate, creatNoFavortiteRestoPage} from '../template/template-creator';\r\n\r\nconst FavoriterResto = {\r\n  async render() {\r\n    return `\r\n        <div class=\"titlecard\">\r\n            <h3 tabindex=\"0\">Your favorite Resto</h3>\r\n            <span class=\"line\"></span>\r\n        </div>\r\n\r\n        <div class=\"nofoodpage\" id=\"nofoodpage\"></div>\r\n        <div class=\"cardcontainer\" id=\"restocard\"></div>\r\n        `;\r\n  },\r\n\r\n  async afterRender() {\r\n    const resto = await FavoriteRestoIdb.getAllResto();\r\n    const restocard = document.querySelector('#restocard');\r\n    const nofoodpage = document.querySelector('#nofoodpage');\r\n\r\n    if (resto == 0) {\r\n      nofoodpage.innerHTML += creatNoFavortiteRestoPage();\r\n    } else {\r\n      resto.forEach((res) => {\r\n        restocard.innerHTML += createItemRestoTemplate(res);\r\n      });\r\n    }\r\n  },\r\n};\r\n\r\nexport default FavoriterResto;\r\n","/* eslint-disable indent */\r\n/* eslint-disable max-len */\r\nimport CONFIG from '../../globals/config';\r\n\r\nconst createItemRestoTemplate = (resto) => `\r\n    <div class=\"card-item\">\r\n\r\n        <div class=\"card-img\">\r\n            <img class=\"lazyload\" data-src=\"${CONFIG.BASE_IMAGE_URL_S + resto.pictureId}\" \r\n            alt=\"${resto.name} Restaurant's photo\">\r\n        </div>\r\n\r\n        <div class=\"card-name\">\r\n            <h4 id=\"card-name\"><a href=\"/#/detail/${resto.id}\">\r\n            ${resto.name}\r\n            </a>\r\n            </h4>\r\n        </div>\r\n\r\n        <div class=\"card-desk\">\r\n            <p>${resto.description}</p>\r\n        </div>\r\n\r\n        <div class=\"card-info\">\r\n            <p>⌂ ${resto.city}</p>\r\n            <p>☆ ${resto.rating}</p>\r\n        </div>\r\n\r\n        <div class=\"card-booking\">\r\n            <button>Booking</button>\r\n        </div>\r\n\r\n    </div>\r\n`;\r\n\r\nconst createDetailRestoTemplate = (detail) => `\r\n        <div class=\"titlecard\">\r\n            <h3>\r\n                <span class=\"detail-name-resto\">${detail.restaurant.name}</span> \r\n                <span class=\"rating\">(☆ ${detail.restaurant.rating})</span>\r\n            </h3>\r\n            <span class=\"line\"></span>\r\n        </div>\r\n\r\n        <div class=\"detailcontainer\">\r\n            <img src=\"${CONFIG.BASE_IMAGE_URL + detail.restaurant.pictureId}\" \r\n                 alt=\"${detail.restaurant.name}\">\r\n            <div class=\"detailinfo\">\r\n                <table class=\"info\">\r\n                    <tr>\r\n                        <th>City</th>\r\n                        <td>: ${detail.restaurant.city}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>Addres</th>\r\n                        <td>: ${detail.restaurant.address}</td>\r\n                    </tr>\r\n                </table>\r\n\r\n                <div class=\"menuresto\">\r\n                    <h4 class=\"titlemenu\"> ${detail.restaurant.name} Menu</h4>\r\n                    <div class=\"menulist\">\r\n                        <div class=\"foodlist\">\r\n                            <h4>Foods</h4>\r\n                            <ol>\r\n                                ${detail.restaurant.menus.foods.map((food) => `<li>${food.name}</li>`)\r\n                                    .join('')\r\n                                }\r\n                            </ol>\r\n                        </div>\r\n                        <div class=\"drinklist\">\r\n                            <h4>Drinks</h4>\r\n                            <ol>\r\n                                ${detail.restaurant.menus.drinks\r\n                                    .map((drink) => `<li>${drink.name}</li>`)\r\n                                    .join('')\r\n                                }\r\n                            </ol>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"desc\">\r\n                <h4>Descriptions</h4>\r\n                <p>\r\n                    ${detail.restaurant.description} \r\n                </p>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"favorite\">\r\n            \r\n        </div>\r\n\r\n        <div class=\"restocoment\">\r\n            <h4>Review Customer</h4>\r\n            <div class=\"comentcontent\">\r\n                <div class=\"allcoment\">\r\n                    ${\r\n                        detail.restaurant.customerReviews\r\n                            .map((review) =>\r\n                                `<div class=\"comentitem\">\r\n                                        <h5>${review.name} <span>(${review.date})</span></h5>\r\n                                        <p class=\"textcoment\">${review.review}</p>\r\n                                </div>`)\r\n                            .join('')\r\n                    }                 \r\n                </div>\r\n\r\n                <div class=\"addcoment\">\r\n                    <h5>Add Your Comment</h5>\r\n                    <form>\r\n                        <input type=\"text\" name=\"name\" id=\"\" placeholder=\"Your name\">\r\n                        <textarea name=\"comment\" id=\"\" placeholder=\"Write your comment here!\"></textarea>\r\n                        <button type=\"submit\" class=\"addcomentbutton\">add coment</button>\r\n                    </form>\r\n                </div>\r\n                \r\n            </div>\r\n        </div>  \r\n    \r\n`;\r\n\r\nconst createAddFavoriteButtonTemplate = () => `\r\n    <button aria-label=\"like this resto\" class=\"favbutton\" id=\"addfav\">\r\n        <span class=\"addfav\">Add</span> Your Favorite Resto \r\n    </button>\r\n`;\r\n\r\nconst createRemoveFavoriteButtonTemplate = () => `\r\n    <button aria-label=\"unlike this resto\" class=\"favbutton\" id=\"removefav\">\r\n        <span class=\"removefav\">Remove</span> Your Favorite Resto \r\n    </button>\r\n`;\r\n\r\nconst creatNoFavortiteRestoPage = () => `\r\n    <div class=\"nofavrestopage\">\r\n        <img src=\"./no-food.png\" alt=\"No food icon\">\r\n        <p>No food is your favorite</p>\r\n    </div>\r\n`;\r\n\r\nconst spinner = () => `\r\n    <div class=\"spinner-wrapper\">\r\n        <span class=\"spinner-grow merah\" role=\"status\"></span>\r\n        <span class=\"spinner-grow kuning\" role=\"status\"></span>\r\n        <span class=\"spinner-grow biru\" role=\"status\"></span>\r\n    </div>\r\n`;\r\n\r\nconst badconnection = () => `\r\n    <div class=\"badconnection\">\r\n        <img src=\"./disconnect.png\" alt=\"disconnect\">\r\n        <p>Bad connection, swipe up to refresh!</p>\r\n    </div>\r\n`;\r\n\r\nexport {\r\n    createItemRestoTemplate,\r\n    createDetailRestoTemplate,\r\n    createAddFavoriteButtonTemplate,\r\n    createRemoveFavoriteButtonTemplate,\r\n    creatNoFavortiteRestoPage,\r\n    spinner,\r\n    badconnection,\r\n};\r\n"],"names":["i","render","afterRender","url","UrlParse","loading","document","querySelector","DetailRestoCont","innerHTML","spinner","style","visibility","TheRestoSource","id","resto","createDetailRestoTemplate","FavoriteButtonInitiator","FavButtonContainer","children","restaurant","name","city","pictureId","description","rating","console","log","display","addReview","nameInput","reviewInput","btnSubmitInput","addEventListener","e","preventDefault","restoReview","value","badconnection","FavoriteRestoIdb","restocard","nofoodpage","creatNoFavortiteRestoPage","forEach","res","createItemRestoTemplate","CONFIG","detail","address","menus","foods","map","food","join","drinks","drink","customerReviews","review","date","createAddFavoriteButtonTemplate","createRemoveFavoriteButtonTemplate"],"sourceRoot":""}